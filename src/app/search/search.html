<div class="search-component">
  <div class="search-container">
  <form (ngSubmit)="onSubmit()" class="search-form">
    <div class="search-input-wrapper">
      <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      
      <input
        type="text"
        [formControl]="searchControl"
        #search
        [placeholder]="placeholder"
        class="search-input"
        (focus)="onFocus()"
        (blur)="onBlur()"
        autocomplete="off"
        (keyup.enter)="onSubmit()"
      />
      
      <!-- Loading spinner -->
      <div *ngIf="isLoading" class="loading-spinner">
        <svg class="spinner" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2" 
                  stroke-linecap="round" stroke-dasharray="31.416" stroke-dashoffset="31.416">
            <animate attributeName="stroke-dasharray" dur="2s" values="0 31.416;15.708 15.708;0 31.416" repeatCount="indefinite"/>
            <animate attributeName="stroke-dashoffset" dur="2s" values="0;-15.708;-31.416" repeatCount="indefinite"/>
            </circle>
          </svg>
        </div>
      
      <button
        *ngIf="clearable && searchControl.value && !isLoading"
        type="button"
        class="clear-button"
        (click)="clearSearch()"
        aria-label="Clear search"
      >
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
      
      <button
        type="submit"
        class="search-button"
        [disabled]="isLoading"
        aria-label="Search products"
      >
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
      </button>
    </div>
    
    <!-- Suggestions dropdown -->
    <div
      *ngIf="showSuggestion && showSuggestionList && suggestions.length > 0"
      class="suggestions-dropdown"
    >
      <div class="suggestions-header">
        <span>Product Suggestions</span>
      </div>
      <div
        *ngFor="let suggestion of suggestions"
        class="suggestion-item"
        (mousedown)="selectSuggestion(suggestion)"
      >
        <svg class="suggestion-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        {{ suggestion }}
      </div>
    </div>
  </form>
</div>

</div>
